(function(){function a(t){e=t.createElement("iframe");e.style.display="none";t.documentElement.appendChild(e)}function f(e){if(WebViewJavascriptBridge._messageHandler){throw new Error("WebViewJavascriptBridge.init called twice")}WebViewJavascriptBridge._messageHandler=e;var t=n;n=null;for(var r=0;r<t.length;r++){v(t[r])}}function l(e,t){p({data:e},t)}function c(e,t){r[e]=t}function h(e,t,n){p({handlerName:e,data:t},n)}function p(n,r){if(r){var a="cb_"+u++ +"_"+(new Date).getTime();o[a]=r;n["callbackId"]=a}t.push(n);e.src=i+"://"+s}function d(){var e=JSON.stringify(t);t=[];return e}function v(e){setTimeout(function(){var n=JSON.parse(e);var i;if(n.responseId){var s=o[n.responseId];if(!s){return}s(n.responseData);delete o[n.responseId]}else{var s;if(n.callbackId){var u=n.callbackId;s=function(e){p({responseId:u,responseData:e})}}var a=WebViewJavascriptBridge._messageHandler;if(n.handlerName){a=r[n.handlerName]}try{a(n.data,s)}catch(f){if(typeof console!="undefined"){console.log("WebViewJavascriptBridge: WARNING: javascript handler threw.",n,f)}}}})}function m(e){if(n){n.push(e)}else{v(e)}}if(window.WebViewJavascriptBridge){return}var e;var t=[];var n=[];var r={};var i="wvjbscheme";var s="__WVJB_QUEUE_MESSAGE__";var o={};var u=1;window.WebViewJavascriptBridge={init:f,send:l,registerHandler:c,callHandler:h,_fetchQueue:d,_handleMessageFromObjC:m};var g=document;a(g);var y=g.createEvent("Events");y.initEvent("WebViewJavascriptBridgeReady");y.bridge=WebViewJavascriptBridge;g.dispatchEvent(y)})()